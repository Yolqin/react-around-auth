{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  addLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  removeLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  updateLikes(cardId, liked) {\n    let method = 'DELETE';\n    if (liked) method = 'PUT';\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: method,\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  setUserInfo(data) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify(data)\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  setUserAvatar({\n    avatar\n  }) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n}\n\nexport default new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"0b0810cc-19b7-4496-ab2f-26f1fe242520\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"sources":["/Users/yolqin/Desktop/Practicum/around-react/src/utils/api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","getInitialCards","fetch","then","res","ok","json","Promise","reject","statusText","getUserInfo","getAppInfo","all","addCard","name","link","method","body","JSON","stringify","removeCard","cardId","addLike","removeLike","updateLikes","liked","setUserInfo","data","setUserAvatar","avatar","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  addLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  updateLikes(cardId, liked) {\n    let method= 'DELETE';\n    if(liked) method= 'PUT';\n\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: method,\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n    setUserInfo(data) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        })\n            .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n    }\n\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n}\n\nexport default new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"0b0810cc-19b7-4496-ab2f-26f1fe242520\",\n    \"Content-Type\": \"application/json\"\n  }\n});"]},"metadata":{},"sourceType":"module"}