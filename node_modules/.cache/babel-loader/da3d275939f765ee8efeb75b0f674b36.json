{"ast":null,"code":"import _classCallCheck from\"/Users/yolqin/Desktop/Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yolqin/Desktop/Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this._baseUrl+'/cards',{headers:this._headers}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._baseUrl+'/users/me',{headers:this._headers}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"getAppInfo\",value:function getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()]);}},{key:\"addCard\",value:function addCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(this._baseUrl+'/cards',{headers:this._headers,method:\"POST\",body:JSON.stringify({name:name,link:link})}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"removeCard\",value:function removeCard(cardId){return fetch(this._baseUrl+'/cards/'+cardId,{headers:this._headers,method:\"DELETE\"}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"addLike\",value:function addLike(cardId){return fetch(this._baseUrl+'/cards/likes/'+cardId,{headers:this._headers,method:\"PUT\"}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"removeLike\",value:function removeLike(cardId){return fetch(this._baseUrl+'/cards/likes/'+cardId,{headers:this._headers,method:\"DELETE\"}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"updateLikes\",value:function updateLikes(cardId,liked){var method='DELETE';if(liked)method='PUT';return fetch(this._baseUrl+'/cards/likes/'+cardId,{method:method,headers:this._headers}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch(this._baseUrl+'/users/me',{headers:this._headers,method:\"PATCH\",body:JSON.stringify(data)}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}},{key:\"setUserAvatar\",value:function setUserAvatar(_ref3){var avatar=_ref3.avatar;return fetch(this._baseUrl+'/users/me/avatar',{headers:this._headers,method:\"PATCH\",body:JSON.stringify({avatar:avatar})}).then(function(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);});}}]);return Api;}();export default new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-5\",headers:{authorization:\"0b0810cc-19b7-4496-ab2f-26f1fe242520\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"sources":["/Users/yolqin/Desktop/Practicum/around-react/src/utils/api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","all","getUserInfo","getInitialCards","name","link","method","body","JSON","stringify","cardId","liked","data","avatar","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  addLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  updateLikes(cardId, liked) {\n    let method= 'DELETE';\n    if(liked) method= 'PUT';\n\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: method,\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n    setUserInfo(data) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        })\n            .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n    }\n\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n}\n\nexport default new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"0b0810cc-19b7-4496-ab2f-26f1fe242520\",\n    \"Content-Type\": \"application/json\"\n  }\n});"]},"metadata":{},"sourceType":"module"}