{"version":3,"sources":["components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/api.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","CurrentUserContext","createContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","hidden","onClick","alt","name","src","link","length","Main","cards","onProfileEdit","onAvatarEdit","onCardAdd","avatar","about","map","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","props","isOpen","action","method","onSubmit","title","children","submitText","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","all","getUserInfo","getInitialCards","body","JSON","stringify","cardId","liked","data","authorization","Input","inputType","placeholder","required","minLength","maxLength","onChange","handleChange","value","id","errorId","EditProfilePopup","React","useState","setName","setAbout","useEffect","e","preventDefault","onUpdateUser","target","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setLink","onAddPlace","console","log","App","setSelectedCard","profileDialog","setProfileDialog","avatarDialog","setAvatarDialog","cardDialog","setCardDialog","deleteDialog","setDeleteDialog","setCurrentUser","setCards","closeAllPopups","api","user","initialCards","catch","err","Provider","removeCard","newCards","filter","c","updateLikes","newCard","userData","setUserInfo","avatarData","setUserAvatar","cardData","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ca05c79.chunk.js","sourcesContent":["function Header() {\n    return (\n        <header className=\"header\">\n            <a href=\"#\" className=\"header__logo\"/>\n        </header>\n    );\n}\n\nexport default Header;\n","import {createContext} from 'react';\n\nconst CurrentUserContext = createContext({});\n\nexport default CurrentUserContext;\n","import {useContext} from \"react\";\nimport CurrentUserContext from '../context/CurrentUserContext';\n\nfunction Card({onCardClick, onCardLike, onCardDelete, card}) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n\n    function handleCardClick() {\n        onCardClick(card);\n    }\n\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }\n\n    return (\n        <li className=\"elements__grid-item\">\n            <button\n                className=\"elements__delete-button\"\n                type=\"button\"\n                hidden={!isOwn}\n                onClick={handleDeleteClick}\n            />\n            <img alt={card.name} className=\"elements__grid-image\" src={card.link}\n                 onClick={handleCardClick}\n            />\n            <div className=\"elements__grid-description\">\n                <h2 className=\"elements__grid-header\">{card.name}</h2>\n                <div className=\"elements__like-right\">\n                    <button\n                        className={`elements__like-button ${isLiked ? 'elements__like-button_active' : null}`}\n                        type=\"button\"\n                        onClick={handleLikeClick}\n                    />\n                    <p className=\"elements__like-count\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default Card;","import React, {useContext} from \"react\";\nimport Card from '../components/Card';\nimport CurrentUserContext from '../context/CurrentUserContext';\n\nfunction Main({cards, onCardClick, onProfileEdit, onAvatarEdit, onCardAdd, onCardDelete, onCardLike}) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__left-container\">\n                    <div className=\"profile__avatar-container\">\n                        <img src={currentUser.avatar} alt=\"Profile Avatar\" className=\"profile__avatar\"/>\n                        <button type=\"button\" name=\"update avatar\"\n                                className=\"profile__avatar_edit\" onClick={onAvatarEdit}/>\n                    </div>\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" name=\"edit profile\"\n                                onClick={onProfileEdit}/>\n                        <p className=\"profile__job\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" name=\"add card\" onClick={onCardAdd}/>\n            </section>\n\n            <section className=\"elements\">\n                <ul className=\"elements__grid\">\n                    {cards.map(card => (\n                        <Card card={card} key={card._id} onCardClick={onCardClick} onCardDelete={onCardDelete} onCardLike={onCardLike}\n                        />\n                    ))}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020. Around the U.S.</p>\n        </footer>\n    );\n}\n\nexport default Footer;","function ImagePopup({selectedCard, onClose}) {\n\n    return (\n        <div className={`page__dialog_type_image dialog ${selectedCard ? 'dialog_open' : null}`}>\n            <div className=\"dialog__container\">\n                <button className=\"dialog__close-button\" type=\"button\" onClick={onClose}/>\n                <figure className=\"dialog__figure\">\n                    <img alt={selectedCard ? selectedCard.name : null} className=\"dialog__image\"\n                         src={selectedCard ? selectedCard.link : null}/>\n                    <figcaption\n                        className=\"dialog__image-caption\">{selectedCard ? selectedCard.name : null} </figcaption>\n                </figure>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n    return (\n        <div className={`page__dialog_type_${props.name} dialog ${props.isOpen && 'dialog_open'}`}>\n            <div className=\"dialog__container\">\n                <button className=\"dialog__close-button\" type=\"button\" name=\"close button\" onClick={props.onClose}/>\n                <form action=\"#\" className={`dialog__form dialog__form_type_${props.type}`} method=\"post\"\n                      name=\"profile-edit\"\n                      onSubmit={props.onSubmit}\n                >\n                    <h3 className=\"dialog__header\">\n                        {props.title}\n                    </h3>\n                    {props.children}\n                    <button type=\"submit\" className=\"dialog__button\">{props.submitText}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  addLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  removeLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n\n  updateLikes(cardId, liked) {\n    let method= 'DELETE';\n    if(liked) method= 'PUT';\n\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: method,\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n    setUserInfo(data) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        })\n            .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n    }\n\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n  }\n}\n\nexport default new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"0b0810cc-19b7-4496-ab2f-26f1fe242520\",\n    \"Content-Type\": \"application/json\"\n  }\n});","import React from \"react\";\n\nfunction Input(props) {\n    return (\n        <>\n            <input\n                type={props.type}\n                name={props.name}\n                className={`dialog__input dialog__input_type_${props.inputType}`}\n                placeholder={props.placeholder}\n                required\n                minLength={props.minLength}\n                maxLength={props.maxLength}\n                onChange={props.handleChange}\n                value={props.value}\n            />\n\n            <span\n                id={props.errorId}\n                className=\"dialog__error\"\n            />\n        </>\n    );\n}\n\nexport default Input;","import React, {useEffect, useContext} from \"react\";\nimport CurrentUserContext from '../context/CurrentUserContext';\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [about, setAbout] = React.useState('');\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setAbout(currentUser.about);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about,\n        });\n    }\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleAboutChange(e) {\n        setAbout(e.target.value);\n    }\n\n    return (\n        <PopupWithForm\n            name='edit-profile'\n            title='Edit profile'\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            submitText='Save'\n            onSubmit={handleSubmit}\n        >\n            <Input\n                type='text'\n                name='name'\n                inputType='name'\n                placeholder='Name'\n                required\n                minLength='2'\n                maxLength='40'\n                errorId='profile__name_error'\n                value={name}\n            />\n            <Input\n                type='text'\n                name='job'\n                inputType='about-me'\n                placeholder='Description'\n                required\n                minLength='2'\n                maxLength='200'\n                errorId='profile__text_error'\n                handleChange={handleAboutChange}\n                value={about}\n            />\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditProfilePopup;","import React, {useEffect, useContext} from \"react\";\nimport CurrentUserContext from '../context/CurrentUserContext';\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [avatar, setAvatar] = React.useState('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar\n        });\n    }\n\n    function handleAvatarChange(e) {\n        setAvatar(e.target.value);\n    }\n\n    return (\n        <PopupWithForm\n            name='edit-avatar'\n            title='Change profile picture'\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            submitText='Save'\n            onSubmit={handleSubmit}\n        >\n            <Input\n                type='url'\n                name='link'\n                inputType='url-avatar'\n                placeholder='Avatar link'\n                required\n                errorId='card__url-avatar_error'\n                handleChange={handleAvatarChange}\n                value={avatar}\n            />\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n    const [name, setName] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            name,\n            link\n        });\n        setName('');\n        setLink('');\n        console.log(name,link);\n    }\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n    return (\n        <PopupWithForm\n            name='add-grid-item'\n            title='New place'\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            submitText='Save'\n            onSubmit={handleSubmit}\n        >\n            <Input\n                type='text'\n                name='name'\n                inputType='grid-title'\n                placeholder='Title'\n                required\n                minLength='2'\n                maxLength='30'\n                errorId='card__title_error'\n                handleChange={handleNameChange}\n                value={name}\n            />\n            <Input\n                type='url'\n                name='link'\n                inputType='url'\n                placeholder='Image link'\n                required\n                errorId='card__url_error'\n                handleChange={handleLinkChange}\n                value={link}\n            />\n        </PopupWithForm>\n    )\n\n}\n\nexport default AddPlacePopup;","import React, {useEffect} from \"react\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport api from \"../utils/api\"\nimport CurrentUserContext from '../context/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [profileDialog, setProfileDialog] = React.useState(false);\n    const [avatarDialog, setAvatarDialog] = React.useState(false);\n    const [cardDialog, setCardDialog] = React.useState(false);\n    const [deleteDialog, setDeleteDialog] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({name: '', about: '', avatar: ''});\n    const [cards, setCards] = React.useState([]);\n\n    useEffect(() => {\n        Promise.all([api.getUserInfo(), api.getInitialCards({})])\n            .then(([user, initialCards]) => {\n                setCurrentUser(user)\n                setCards(initialCards)\n            })\n            .catch(err => console.log(err))\n    }, [])\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function handleEditAvatarClick() {\n        setAvatarDialog(true);\n    }\n\n    function handleEditProfileClick() {\n        setProfileDialog(true);\n    }\n\n    function handleAddPlaceClick() {\n        setCardDialog(true);\n    }\n\n    function handleCardDelete(card) {\n        api.removeCard(card._id)\n            .then(() => {\n                const newCards = cards.filter((c) => c._id !== card._id);\n                setCards(newCards);\n            })\n            .catch(err => console.log(err))\n    }\n\n    function closeAllPopups(e) {\n        setSelectedCard(false);\n        setProfileDialog(false);\n        setAvatarDialog(false);\n        setCardDialog(false);\n        setDeleteDialog(false);\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.updateLikes(card._id, !isLiked)\n            .then((newCard) => {\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n            setCards(newCards);\n        })\n            .catch(err => console.log(err))\n    }\n\n    function handleUpdateUser(userData) {\n        api.setUserInfo(userData)\n            .then((user) => {\n                setCurrentUser(user);\n                closeAllPopups();\n            })\n            .catch(err => console.log(err))\n    }\n\n    function handleUpdateAvatar(avatarData) {\n        api.setUserAvatar(avatarData)\n            .then((user) => {\n                setCurrentUser(user);\n                closeAllPopups();\n            })\n            .catch(err => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.addCard({name: cardData.name, link: cardData.link})\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch(err => console.log(err));\n    }\n\n    return (\n\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <div className=\"page__content\">\n                    <Header/>\n                    <Main\n                        onCardClick={handleCardClick}\n                        onProfileEdit={handleEditProfileClick}\n                        onAvatarEdit={handleEditAvatarClick}\n                        onCardAdd={handleAddPlaceClick}\n                        onCardDelete={handleCardDelete}\n                        cards = {cards}\n                        onCardLike={handleCardLike}\n                    />\n                    <Footer/>\n                </div>\n\n                <EditProfilePopup isOpen={profileDialog} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n                <EditAvatarPopup isOpen={avatarDialog} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n                <AddPlacePopup isOpen={cardDialog} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n\n                <PopupWithForm\n                    name='delete-confirmation'\n                    title='Are you sure?'\n                    isOpen={deleteDialog}\n                    onClose={closeAllPopups}\n                    submitText='Yes'\n                />\n\n                <ImagePopup\n                    selectedCard={selectedCard}\n                    onClose={closeAllPopups}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}